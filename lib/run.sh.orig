var exec = require('child_process').exec;

var internals = {
	defaults: {

		cwd: process.cwd(),
		timeout: 1000*60*10//10 minute timeout?
	},
	callback: function (err, stdout, stderr) {
                console.log('made it to callback');
		if (err) {

		    console.log(err);
		}
		console.log(stdout);
		console.log(stderror);
	}
}

exports.execute = function (job) {//optional: jobs(array), options, callback

	//could also be a script passed in

	var args = Array.prototype.slice.call(arguments);
	var options = args[1]?args[1]:internals.defaults;
	var callback = args[2]?args[2]:internals.callback;
	exec(job, options, callback);
}
